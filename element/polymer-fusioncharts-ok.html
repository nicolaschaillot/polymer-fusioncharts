<link rel="import" href="../bower_components/polymer/polymer-element.html">

<script>
  // Your new element extends the Polymer.Element base class
  class ChartElementOK extends Polymer.Element {

    static get is() { return 'polymer-fusioncharts-ok'; }

    constructor() {
      super();

      this.textContent = "Rendering the chart using the Polymer custom element(containing the chart)";
      this.style = "align: center";

      var iDiv = document.createElement('div');
      iDiv.id = 'chart-container';
      document.getElementById('okchart').appendChild(iDiv);

      FusionCharts.ready(function() {
        var satisfactionChart = new FusionCharts({
          id: 'foo1',
          type: 'column2d',
          renderAt: 'chart-container',
          width: '400',
          height: '300',
          dataFormat: 'json',
          dataSource: {
            "chart": {
              "caption": "Top 3 Juice Flavors",
              "subcaption": "Last year",
              "xaxisname": "Flavor",
              "yaxisname": "Amount (In USD)",
              "numberprefix": "$",
              "theme": "fusion",
              "rotateValues": "0"
            },
            "data": [{
              "label": "Apple",
              "value": "810000",
              "link": "newchart-xml-apple"
            }, {
              "label": "Cranberry",
              "value": "620000",
              "link": "newchart-xml-cranberry"
            }, {
              "label": "Grapes",
              "value": "350000",
              "link": "newchart-xml-grapes"
            }],
            "linkeddata": [{
              "id": "apple",
              "linkedchart": {
                "chart": {
                  "caption": "Apple Juice - Quarterly Sales",
                  "subcaption": "Last year",
                  "numberprefix": "$",
                  "theme": "fusion",
                  "rotateValues": "0",
                  "plottooltext": "$label, $dataValue,  $percentValue"
                },
                "data": [{
                  "label": "Q1",
                  "value": "157000"
                }, {
                  "label": "Q2",
                  "value": "172000"
                }, {
                  "label": "Q3",
                  "value": "206000"
                }, {
                  "label": "Q4",
                  "value": "275000"
                }]
              }
            }, {
              "id": "cranberry",
              "linkedchart": {
                "chart": {
                  "caption": "Cranberry Juice - Quarterly Sales",
                  "subcaption": "Last year",
                  "numberprefix": "$",
                  "theme": "fusion",
                  "plottooltext": "$label, $dataValue,  $percentValue"
                },
                "data": [{
                  "label": "Q1",
                  "value": "102000"
                }, {
                  "label": "Q2",
                  "value": "142000"
                }, {
                  "label": "Q3",
                  "value": "187000"
                }, {
                  "label": "Q4",
                  "value": "189000"
                }]
              }
            }, {
              "id": "grapes",
              "linkedchart": {
                "chart": {
                  "caption": "Grapes Juice - Quarterly Sales",
                  "subcaption": "Last year",
                  "numberprefix": "$",
                  "theme": "fusion",
                  "rotateValues": "0",
                  "plottooltext": "$label, $dataValue,  $percentValue"
                },
                "data": [{
                  "label": "Q1",
                  "value": "45000"
                }, {
                  "label": "Q2",
                  "value": "72000"
                }, {
                  "label": "Q3",
                  "value": "95000"
                }, {
                  "label": "Q4",
                  "value": "108000"
                }]
              }
            }]
          },
        });

        satisfactionChart.render();

      });

    }
  }

  //Now, register your new custom element so the browser can use it		
customElements.define(ChartElementOK.is, ChartElementOK);

</script>
